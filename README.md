# VOT-Cli

Данное приложение позволяет скачать перевод видео от Яндекса через терминал.

Поддерживаемые платформы: **Windows**, **Linux**, **MacOS**

Для работы необходим NodeJS версии **17** или выше.

Команды:
- `vot-cli <link>` - получить перевод по ссылке
- `vot-cli --help` - получить помощь по команде
- `vot-cli --version` - получить версию приложения
- `vot-cli --output=<path>` - для указания пути сохранения аудио файла перевода

Пример: `vot-cli "https://www.youtube.com/watch?v=X98VPQCE_WI" "https://www.youtube.com/watch?v=djr8j-4fS3A&t=900s" --output="."`

# Поддерживаемые сайты:
- **[YouTube](https://www.youtube.com)**
- **[Twitch](https://www.twitch.tv)**
- **[VK](https://vk.com)**
- **[XVideos](https://xvideos.com/)**
- **[PornHub](https://rt.pornhub.com/)** 

# Установка:
1. Скачать и распаковать архив с релизом
2. В распакованной папке (vot-cli) выполнить команду `npm install`
3. После успешной установки модулей выполнить команду `npm link`
4. Готово!

## Примечание:
1. Лучше оборачивать ссылки в кавычки, чтобы избежать ошибок.
2. Для записи в системный раздел (например на "диск C" в Windows) необходимы права администратора.
3. Иногда при загрузке файл может не перевестись/не загрузиться. Если это произошло попробуйте еще раз. (может быть это у меня какие-то проблемы с интернетом)

## Предупреждение:
Я впервые попытался написать что-то подобное, поэтому получилось далеко не идеально. Есть какие-то рандомные ошибки соединия происходящие при отправке запроса DownloaderHelper (прокомментировано в коде) или Axios, и я не знаю как их исправить :(

![example](https://github.com/ilyhalight/voice-over-translation/blob/master/vot-cli/example.png "btn")

## Скрипт для скачивания видео с встроенным переводом для Unix: [fishy-voice-over](https://gitlab.com/musickiller/fishy-voice-over/-/blob/main/translate.fish)
## Скрипт для скачивания видео с встроенным переводом для Windows (PowerShell): 
### Prerequisites

Перед использованием этого инструмента убедитесь, что у вас установлены следующие зависимости:

- [yt-dlp](https://github.com/yt-dlp/yt-dlp): Программа командной строки для загрузки видео с YouTube и других сайтов.
- [ffmpeg](https://ffmpeg.org/): Мощная мультимедийная платформа для работы с аудио, видео и другими медиафайлами.
- [Node.js](https://nodejs.org/): Среда выполнения JavaScript.

### Installation

1. Клонируйте этот репозиторий на локальную машину:

```shell
git clone https://github.com/ilyhalight/voice-over-translation.git
```

2. Перейдите в каталог проекта:

```shell
cd vot-cli
```

3. Установите зависимости Node.js:

```shell
npm install
```
4. После успешной установки модулей выполнить команду:

```shell
npm link
```
5. Запуск скрипта с указанием ссылок на видео:
```shell
.\translate.ps1 <ссылка на видео 1> <ссылка на видео 2> [громкость звука оригинала]
```

- `<ссылка на видео>`: Ссылка на видеоролик YouTube, который вы хотите перевести.
- `[громкость звука оригинала]` (необязательно): Коэффициент громкости для оригинального звука (по умолчанию 0,1).

Пример:

```shell
.\translate.ps1 https://www.youtube.com/watch?v=your_video_link 0.2
```
Скрипт загрузит видео, добавит русский закадровый голос и объединит звуковые дорожки. Переведенное видео будет сохранено в той же директории, что и скрипт.

### Notes
- Команды `yt-dlp`, `ffmpeg`, `vot-cli` должны быть доступны из командной строки. Убедитесь, что пути к их исполняемым файлам добавлены в переменную окружения PATH вашей системы.
